<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="Petr" />
    <link rel="icon" href="../../favicon.ico" />

    <title>Uživatelé</title>
    <link href="../../css/style.css" rel="stylesheet" />
  </head>
  <body>
      #{permitController.hasUserPermission()}
      <div id="mainmenu">
          <ul>
              <li>
                  <a href="uzivatele.xhtml">Uživatelé</a>
              </li>
              <li>
                  <a href="jidla.xhtml">Jídla</a>
              </li>
              <li>
                  <a href="jidelnicek.xhtml">Jídelníček</a>
              </li>
              <li>
                  <a href="#">Uživatel</a>
                  <ul>
                      <li><a href="signin.xhtml">Přihlásit se</a></li>
                      <li><a href="#">Profil?</a></li>
                  </ul>
              </li>
          </ul>
      </div>
      <div id="content">
          <h1>Jídelníček uživatele #{userController.username}</h1>
          <h2>Výběr dne:</h2>
          <h:form>
              <input id="dateInput" type="date" label="Datum" />
              <h:inputHidden id="dateJsf" value="#{jidelnicekBean.stringDatum}" />
              <h:commandButton value="Zvolit datum" action="#{jidelnicekBean.ulozDatum()}"/> <!--TO DO-->
          </h:form>
          
          <!-- NÁDHERNEJ ZPŮSOB, JAK PŘEVÍST DATEINPUT DO JSFINPUTU -_- -->
          <script type="text/javascript">
            document.getElementById('dateInput').addEventListener('change', function(){
            document.getElementById('j_idt2:dateJsf').value = document.getElementById('dateInput').value;
            });
          </script>
          
          <p id="test"></p>
          
          <h2>Jídelníček</h2>
          <h:dataTable value="#{jidelnicekBean.jidelnicekUzivatele}" var="j">
              <h:column>
                  <f:facet name="header">Název</f:facet>
                  #{j.jidloDao.nazev}
              </h:column>
              <h:column>
                  <f:facet name="header">Kcal</f:facet>
                  #{j.jidloDao.kcal}
              </h:column>
              <h:column>
                  <f:facet name="header">Typ</f:facet>
                  #{j.typ}
              </h:column>
              <h:column>
                  <f:facet name="header">Čas</f:facet>
                  #{j.cas}
              </h:column>
              <h:column>
                  <f:facet name="header">Poznámka</f:facet>
                  #{j.poznamka}
              </h:column>
          </h:dataTable>
      </div>
  </body>
</html>

